<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Добавить объявление</title>
    <link th:href="@{/css/main.css}" rel="stylesheet" />
    <link th:href="@{/css/sign.css}" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"  rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"  rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div th:replace="fragments/navigation :: navigation"></div>

<div class="container">
    <form id="advertForm" enctype="multipart/form-data">
        <div class="row mt-4">
            <!-- Левая панель -->
            <div class="col-md-3 me-4">
                <div class="btn-group mb-3" role="group" aria-label="Тип сделки">
                    <a href="#" class="custom-btn me-3 rounded-custom-btn" data-deal-type="rent">Аренда</a>
                    <a href="#" class="custom-btn" data-deal-type="sale">Продажа</a>
                </div>

                <!-- Поля для аренды -->
                <div id="rentFields">
                    <div class="mb-3">
                        <label for="rentDuration" class="form-label">Тип аренды</label>
                        <select id="rentDuration" name="rentDuration" class="form-select" required>
                            <option value="" disabled selected>Выберите тип аренды</option>
                            <option value="short-term">Посуточно</option>
                            <option value="long-term">Долгосрочно</option>
                        </select>
                    </div>

                    <div class="p-3 mt-4 border rounded">
                        <div class="mb-3">
                            <label for="rentPrice" class="form-label fw-bold" style="color: #1a1d20">Цена аренды</label>
                            <div class="input-group">
                                <span class="input-group-text">₽</span>
                                <input type="number" id="rentPrice" name="rentPrice" class="form-control"
                                       placeholder="Введите цену аренды" required />
                            </div>
                            <div class="form-text">Укажите цену в рублях.</div>
                        </div>
                    </div>
                </div>

                <!-- Поля для продажи -->
                <div id="saleFields" class="d-none">
                    <div class="p-3 mt-4 border rounded">
                        <div class="mb-3">
                            <label for="salePrice" class="form-label fw-bold" style="color: #1a1d20">Цена продажи</label>
                            <div class="input-group">
                                <span class="input-group-text">₽</span>
                                <input type="number" id="salePrice" name="salePrice" class="form-control"
                                       placeholder="Введите цену продажи" required />
                            </div>
                            <div class="form-text">Укажите цену в рублях.</div>
                        </div>
                    </div>
                </div>

                <!-- Общие поля -->
                <div class="mt-3 mb-3">
                    <label for="propertyType" class="form-label">Тип недвижимости</label>
                    <select id="propertyType" name="propertyType" class="form-select" required>
                        <option value="" disabled selected>Выберите тип недвижимости</option>
                        <option value="apartmentSale">Квартира</option>
                        <option value="house">Дом</option>
                        <option value="room">Комната</option>
                    </select>
                </div>
            </div>

            <!-- Правый контент -->
            <div class="col-md-8">
                <h2>Добавить объявление</h2>

                <div class="mb-3">
                    <label for="title" class="form-label">Заголовок</label>
                    <input type="text" id="title" name="title" class="form-control"
                           placeholder="Введите заголовок" required />
                </div>

                <div class="mb-3">
                    <label for="description" class="form-label">Описание</label>
                    <textarea id="description" name="description" class="form-control"
                              rows="3" placeholder="Введите описание"></textarea>
                </div>

                <div class="mb-3">
                    <label for="roomCount" class="form-label">Количество комнат</label>
                    <select id="roomCount" name="roomCount" class="form-select" required>
                        <option value="" disabled selected>Выберите количество комнат</option>
                        <option value="studio">Студия</option>
                        <option value="one-bedroom">1-комнатная</option>
                        <option value="two-bedroom">2-комнатная</option>
                        <option value="three-bedroom">3-комнатная</option>
                        <option value="four-bedroom">4-комнатная</option>
                        <option value="five-plus-bedroom">5+ комнат</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="area" class="form-label">Площадь (м²)</label>
                    <input type="number" id="area" name="area" class="form-control"
                           placeholder="Введите площадь" required />
                </div>

                <div class="my-3">
                    <label for="selectedAddress" class="form-label" style="font-weight: normal">Адрес:</label>
                    <input type="text" id="selectedAddress" name="address" class="form-control"
                           value="Не выбран" readonly style="color: #1a1d20;" />
                </div>

                <div id="map" style="width: 100%; height: 400px;"></div>

                <div class="mb-5 mt-3">
                    <label for="images" class="form-label">Загрузить фотографии квартиры</label>
                    <input type="file" id="images" name="images" class="form-control"
                           accept="image/*" multiple />
                </div>

                <button type="submit" class="rounded-custom-btn" style="width: auto">Сохранить</button>
            </div>
        </div>
    </form>
</div>

<script th:src="@{/js/map.js}" defer></script>
<script th:src="@{/js/add-advert.js}" defer></script>
</body>
</html>